<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>inkates</title>
  <link rel="icon" href="what.png" type="image/png">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
<div class="photo" style="background-image: url('photo_2025-08-05 16.03.31.jpeg');"></div>

<div class="card">
  <h1>–ó–∞–≥–∞–¥–∫–∞ –¥–ª—è —Ç–µ–±—è üíå</h1>
  <p><strong>–í–æ–ø—Ä–æ—Å:</strong><br>–ö–∞–∫—É—é —Ñ—Ä–∞–∑—É —Ç—ã —á–∞—Å—Ç–æ –≥–æ–≤–æ—Ä–∏–ª–∞ –≤ —à—É—Ç–∫—É,<br> –∫–æ–≥–¥–∞ —è –¥–µ–ª–∞–ª —á—Ç–æ-—Ç–æ –≥–ª—É–ø–æ–µ –∏ –¥—É—Ä–∞—Ü–∫–æ–µ?</p>

  <input type="text" id="answer" placeholder="–í–≤–µ–¥–∏ –æ—Ç–≤–µ—Ç..." />
  <button onclick="checkAnswer()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>

  <div id="success" class="hidden">
    üéâ –•–∞—Ö, –µ—â–µ –ø–æ–º–Ω–∏—à—å!<br>
    –°–∫–æ—Ä–æ —Ç–µ–±—è –∂–¥—ë—Ç —Å—é—Ä–ø—Ä–∏–∑ üíù
  </div>

  <div id="easterEgg" class="hidden">
    –ê –ø–æ–º–Ω–∏—à—å, –∫–∞–∫ —Ç—ã –≤—Å–µ–≥–¥–∞ —Å–º–µ—è–ª–∞—Å—å –Ω–∞–¥ —ç—Ç–∏–º? –Ø –¥–æ —Å–∏—Ö –ø–æ—Ä —É–ª—ã–±–∞—é—Å—å, –≤—Å–ø–æ–º–∏–Ω–∞—è —ç—Ç–æ.
  </div>

  <div id="songEgg" class="hidden">
    <p>–ó–∞–±—ã-–∑–∞–±—ã–≤–∞—Ç—å, –º–µ–Ω—è —Ç–æ–∂–µ</p>
    <p>–ü—Ä–æ—Ö–æ–¥—è –º–∏–º–æ –ø—Ä–æ—Ö–æ–∂–∏—Ö, –ø–æ—Ö–æ–∂–∏—Ö –Ω–∞ –Ω–∞—Å</p>
    <p>–ù–µ —Å–ø—É—Ç–∞—é –∑–∞–ø–∞—Ö —Ç–≤–æ–µ–π –∫–æ–∂–∏</p>
    <p>–¢—ã –Ω–µ —Å–ø—É—Ç–∞–µ—à—å —Ü–≤–µ—Ç –º–æ–∏—Ö —É—Å—Ç–∞–ª—ã—Ö –≥–ª–∞–∑</p>
  </div>
</div>

<div class="gift-animation hidden" id="gift">üéÅ</div>

<script>
  const correctAnswer = "–ø–æ—á–µ–º—É –º—ã –≤–º–µ—Å—Ç–µ?";
  const token = "5811434960:AAFFk-wT8c5HQCe0wZlTbnz_Obm44jQYMnI";
  const chatId = "747024835";

  function normalize(text) {
    return text.trim().toLowerCase().replace(/[?.,!]/g, '');
  }

  const acceptedAnswers = [
    "–ø–æ—á–µ–º—É –º—ã –≤–º–µ—Å—Ç–µ",
    "–ø–æ—á–µ–º—É –º—ã –≤–º–µ—Å—Ç–µ?"
  ];

  function showGiftAnimation() {
    const gift = document.getElementById("gift");
    gift.classList.remove("hidden");
    setTimeout(() => {
      gift.classList.add("hidden");
    }, 2500);
  }

  function sendTelegramMessage() {
    const message = "üéÅ –û–Ω–∞ –≤–≤–µ–ª–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç! –°–∞–º–æ–µ –≤—Ä–µ–º—è –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –µ–π –ø–æ–¥–∞—Ä–æ–∫.";
    fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({
        chat_id: chatId,
        text: message
      })
    }).catch(error => console.error("Telegram error:", error));
  }

  function checkAnswer() {
    const input = document.getElementById("answer").value;
    const normalized = normalize(input);
    const matches = acceptedAnswers.some(ans => normalize(ans) === normalized);

    if (matches) {
      document.getElementById("success").classList.remove("hidden");
      showGiftAnimation();
      sendTelegramMessage();
    } else {
      alert("–ü–æ–¥—É–º–∞–π –µ—â—ë üôÇ");
    }
  }

  // –ü–∞—Å—Ö–∞–ª–∫–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫
  document.querySelector("h1").addEventListener("click", () => {
    const egg = document.getElementById("easterEgg");
    egg.classList.toggle("hidden");
  });

  // –ü–∞—Å—Ö–∞–ª–∫–∞ –ø–æ —É–¥–µ—Ä–∂–∞–Ω–∏—é —Ñ–æ—Ç–æ
  let holdTimer;
  const photoDiv = document.querySelector('.photo');
  const songEgg = document.getElementById("songEgg");

  photoDiv.addEventListener('mousedown', () => {
    holdTimer = setTimeout(() => {
      songEgg.classList.remove("hidden");
    }, 2000);
  });

  photoDiv.addEventListener('mouseup', () => clearTimeout(holdTimer));
  photoDiv.addEventListener('mouseleave', () => clearTimeout(holdTimer));

  photoDiv.addEventListener('touchstart', () => {
    holdTimer = setTimeout(() => {
      songEgg.classList.remove("hidden");
    }, 2000);
  });

  photoDiv.addEventListener('touchend', () => clearTimeout(holdTimer));
</script>
</body>
</html>
